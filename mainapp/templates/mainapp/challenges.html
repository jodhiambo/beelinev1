{% extends 'mainapp/base.html' %}
{% load static %}

{% block css %}
{% include 'mainapp/head1.html' %}
<script src="{% static 'vendor/jquery/dist/jquery.min.js' %}"></script>
<style>
@keyframes blinker {
from {opacity: 1.0;}
to {opacity: 0.0;}
}

.blink {
    text-decoration: blink;
    animation-name: blinker;
    animation-duration: 0.6s;
    animation-iteration-count:infinite;
    animation-timing-function:ease-in-out;
    animation-direction: alternate;
}
</style>
{% endblock css %}

{% block content %}
<header class="header-global">
    <nav id="navbar-main" class="navbar navbar-main navbar-expand-lg headroom py-lg-3 px-lg-6 navbar-dark navbar-theme-dark">
        <div class="container">
            <a class="navbar-brand @@logo_classes" href="{% url 'mainapp:homepage' %}">
                <img class="navbar-brand-dark common" src="{% static 'assets/img/logo.png' %}" style="width:200px;height:auto" alt="Logo light">
                <img class="navbar-brand-light common" src="{% static 'assets/img/logo.png' %}" style="width:200px;height:auto" alt="Logo dark">
            </a>
            <div class="navbar-collapse collapse" id="navbar_global">
                <div class="navbar-collapse-header">
                    <div class="row">
                        <div class="col-6 collapse-brand">
                            <a href="{% url 'mainapp:homepage' %}">
                                <img src="{% static 'assets/img/logo.png' %}" style="width:200px;height:auto" alt="Logo Impact">
                            </a>
                        </div>
                        <div class="col-6 collapse-close">
                            <a href="#navbar_global" role="button" class="fas fa-times" data-toggle="collapse"
                                data-target="#navbar_global" aria-controls="navbar_global" aria-expanded="false"
                                aria-label="Toggle navigation"></a>
                        </div>
                    </div>
                </div>
                <ul class="navbar-nav navbar-nav-hover justify-content-center">
                    <li class="nav-item">
                        <a href="{% url 'mainapp:homepage' %}" class="nav-link">Home</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" aria-expanded="false" data-toggle="dropdown">
                            <span class="nav-link-inner-text mr-1" >Challenges</span>
                            <i class="fas fa-angle-down nav-link-arrow" ></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-lg">
                            <div class="col-auto px-0" data-dropdown-content>
                                <div class="list-group list-group-flush">
                                    <a href="{% url 'mainapp:challenges' %}"
                                        class="list-group-item list-group-item-action d-flex align-items-center p-0 py-3 px-lg-4">
                                        <span class="icon icon-sm icon-black"><i class="fas fa-check-double"></i></span>
                                        <div class="ml-4">
                                            <span class="d-block">All Challenges</span>
                                        </div>
                                    </a>
                                    <a href="{% url 'mainapp:open-challenges' %}"
                                        class="list-group-item list-group-item-action d-flex align-items-center p-0 py-3 px-lg-4">
                                        <span class="icon icon-sm icon-success"><i
                                                class="fas fa-box-open"></i></span>
                                        <div class="ml-4">
                                            <span class="d-block">Open Challenges</span>
                                        </div>
                                    </a>
                                    <a href="{% url 'mainapp:rolling' %}"
                                        class="list-group-item list-group-item-action d-flex align-items-center p-0 py-3 px-lg-4">
                                        <span class="icon icon-sm icon-primary"><i
                                                class="fas fa-sync-alt"></i></span>
                                        <div class="ml-4">
                                            <span class="d-block">Open With No Deadline</span>
                                        </div>
                                    </a>
                                    <a href="{% url 'mainapp:coming-soon' %}"
                                        class="list-group-item list-group-item-action d-flex align-items-center p-0 py-3 px-lg-4">
                                        <span class="icon icon-sm icon-purple"><i
                                                class="far fa-clock"></i></span>
                                        <div class="ml-4">
                                            <span class="d-block">Coming Soon</span>
                                        </div>
                                    </a>
                                    <a href="{% url 'mainapp:archived' %}"
                                        class="list-group-item list-group-item-action d-flex align-items-center p-0 py-3 px-lg-4">
                                        <span class="icon icon-sm icon-danger"><i
                                                class="fas fa-archive"></i></span>
                                        <div class="ml-4">
                                            <span class="d-block">Archived Challenges</span>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'mainapp:about'%}" class="nav-link" >About Us</a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'news:news'%}" class="nav-link" >News</a>
                    </li>
                    <li class="nav-item">
                    <a href="{% url 'mainapp:submit-a-challenge'%}" target="_blank" class="nav-link"><i class="fas fa-paper-plane mr-2"></i>Submit a Challenge</a>
                    </li>
                    {% if not user.is_authenticated %}
                    <li class="nav-item">
                        <a href="{% url 'users:account_login' %}" class="nav-link" >Login or Register</a>
                    </li>
                    {% else %}
                    <li class="nav-item">
                        <a href="{% url 'userprofiles:profile' %}" class="nav-link">Profile</a>
                    </li>
                    <li class="nav-item">
                    <a href="{% url 'account_logout' %}" class="nav-link" >Logout</a>
                    </li>
                    {% endif %}  
                </ul>
            </div>
            <div class="d-flex d-lg-none align-items-center">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar_global"
                    aria-controls="navbar_global" aria-expanded="false" aria-label="Toggle navigation"><span
                        class="navbar-toggler-icon"></span></button>
            </div>
        </div>
    </nav>
</header>

    <main>
        <section class="section-header pb-4 pb-lg-3 mb-0 mb-lg-2 text-white" style="background-image:linear-gradient( #000, #434343)">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-12 col-md-8 text-center">
                        <h1 class="display-2 mb-5">ALL CHALLENGES</h1>
                    </div>
                </div>
            </div>
        </section>
<section class="section section-lg bg-soft">
    <div class="container" style="max-width:1300px;">
        <div class="row">
            <div class="col-xs-6">
                <div class="navbar-search navbar-search-light form-inline mr-sm-3">
            <div class="form-group mb-0">
                <div class="input-group input-group-alternative input-group-merge">
                    <div class="input-group-prepend" style="border-radius: 2rem;">
                    <span class="input-group-text"><i class="fas fa-search" id="search-icon"></i></span>
                    </div>
                    <input class="form-control" placeholder="Search by Sponsor's Name" type="text" id="user-input" style="width:250px;">
                    <!-- <button class="btn btn-success my-2 my-sm-0 font-normal" type="submit">Search</button> -->
                </div>
            </div>
                </div>
            </div>
            <div class="col-xs-6 form-inline">
                <label class="form-control-label">Sort By</label>&nbsp;
                <select class="select form-control-sm" name="" id="user-choice">
                    <option value="RecentlyAdded">Recently Added</option>
                    <option value="Alphabetically">Alphabetically A-Z</option>
                    <option value="MoreTimeLeft">More Time Left</option>
                    <option value="LessTimeLeft">Less Time Left</option>
                </select>
                
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-xl-6">
                <div class="card">
                    <div class="card-header border-0">
                        <p class=" font-weight-bolder">AUDIENCES</p>
                    </div>
                    <div class="pr-4 pl-4 pb-5 mt--2">
                        <ul class="list-inline">
                        {% for audience in the_audiences %}
                        <li class="list-inline-item pb-2">
                        <a href="{% url 'mainapp:audience-tagged' audience.id %}" class="small" style="background-color: #d1f2ff; padding: 4px 10px; border-radius:5px">{{audience.name}}</a>
                        </li>
                        {% endfor %}
                    </ul>
                    </div>
                </div>
            </div>
            <div class="col-xl-6">
                <div class="card">
                    <div class="card-header border-0">
                        <p class=" font-weight-bolder">TAGS</p>
                    </div>
                    <div class="pr-4 pl-4 pb-5 mt--2">
                        <ul class="list-inline">
                        {% for tag in the_tags %}
                        <li class ="list-inline-item pb-2">
                        <a href="{% url 'mainapp:tagged' tag.id %}" class="small text-white" style="background-color: #9461c1; padding: 4px 10px; border-radius:5px">#{{tag.name}}</a>
                        </li>
                        {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
            <br>
            
        </div>
        {% include "mainapp/challenges-partial.html" %}
    </div>
    <br><br>
<nav aria-label="Page navigation example">
    <ul class="pagination circle-pagination justify-content-center">
      {% if posts.has_previous %}
        <li class="page-item">
            <a class="page-link" tabindex="-1" href="?page={{posts.previous_page_number}}"><i class="fas fa-angle-double-left"></i></a>
        </li>
        {% endif %}
        {% for pg in posts.paginator.page_range %}
          {% if posts.number == pg %}
            <li class="active page-item">
                <a class="page-link" href="?page={{pg}}">{{pg}}</a>
            </li>
          {% else %}
            <li class="page-item">
                <a class="page-link" href="?page={{pg}}">{{pg}}</a>
            </li>
          {% endif %}
        {% endfor %}
        {% if posts.has_next %}
        <li class="page-item">
            <a class="page-link" href="?page={{posts.next_page_number}}"><i class="fas fa-angle-double-right"></i></a>
        </li>
        {% endif %}
    </ul>
</nav>
</section>
        <!-- Hero -->

        <section class="section section-lg pb-5 bg-soft">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
            </div>
        </div>
    </div>
</section>
{% endblock content %}

{% block footer %}
{% include 'mainapp/footer1.html' %}
{% endblock footer %}

    </main>

{% block js %}
{% include 'mainapp/head1-bottom.html' %}
{% endblock js %}
